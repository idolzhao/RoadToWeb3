[{"/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/index.js":"1","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/reportWebVitals.js":"2","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/App.js":"3","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/SellNFT.js":"4","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/Marketplace.js":"5","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/NFTpage.js":"6","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/Profile.js":"7","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/Navbar.js":"8","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/pinata.js":"9","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/NFTTile.js":"10"},{"size":1087,"mtime":1662283204999,"results":"11","hashOfConfig":"12"},{"size":362,"mtime":1662283205000,"results":"13","hashOfConfig":"12"},{"size":743,"mtime":1662283204991,"results":"14","hashOfConfig":"12"},{"size":5698,"mtime":1662286961357,"results":"15","hashOfConfig":"12"},{"size":3126,"mtime":1662286983448,"results":"16","hashOfConfig":"12"},{"size":4096,"mtime":1662287687447,"results":"17","hashOfConfig":"12"},{"size":3734,"mtime":1662286999701,"results":"18","hashOfConfig":"12"},{"size":4236,"mtime":1662295722228,"results":"19","hashOfConfig":"12"},{"size":2564,"mtime":1662286913535,"results":"20","hashOfConfig":"12"},{"size":846,"mtime":1662283204997,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},"u0mt15",{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56"},"/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/index.js",["57"],[],"import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {\n  BrowserRouter,\n  Routes,\n  Route,\n} from \"react-router-dom\";\nimport SellNFT from './components/SellNFT';\nimport Marketplace from './components/Marketplace';\nimport Profile from './components/Profile';\nimport NFTPage from './components/NFTpage';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<Marketplace />}/>\n        <Route path=\"/sellNFT\" element={<SellNFT />}/> \n        <Route path=\"/nftPage/:tokenId\" element={<NFTPage />}/>        \n        <Route path=\"/profile\" element={<Profile />}/> \n      </Routes>\n    </BrowserRouter>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/reportWebVitals.js",[],[],"/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/App.js",["58","59","60"],[],"import './App.css';\nimport Navbar from './components/Navbar.js';\nimport Marketplace from './components/Marketplace';\nimport Profile from './components/Profile';\nimport SellNFT from './components/SellNFT';\nimport NFTPage from './components/NFTpage';\nimport ReactDOM from \"react-dom/client\";\nimport {\n  BrowserRouter,\n  Routes,\n  Route,\n} from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div className=\"container\">\n        <Routes>\n          <Route path=\"/\" element={<Marketplace />}/>\n          <Route path=\"/nftPage\" element={<NFTPage />}/>        \n          <Route path=\"/profile\" element={<Profile />}/>\n          <Route path=\"/sellNFT\" element={<SellNFT />}/>             \n        </Routes>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/SellNFT.js",["61"],[],"import Navbar from \"./Navbar\";\nimport { useState } from \"react\";\nimport { uploadFileToIPFS, uploadJSONToIPFS } from \"../pinata\";\nimport Marketplace from '../Marketplace.json';\nimport { useLocation } from \"react-router\";\n\nexport default function SellNFT () {\n    const [formParams, updateFormParams] = useState({ name: '', description: '', price: ''});\n    const [fileURL, setFileURL] = useState(null);\n    const ethers = require(\"ethers\");\n    const [message, updateMessage] = useState('');\n    const location = useLocation();\n\n    //This function uploads the NFT image to IPFS\n    async function OnChangeFile(e) {\n        var file = e.target.files[0];\n        //check for file extension\n        try {\n            //upload the file to IPFS\n            const response = await uploadFileToIPFS(file);\n            if(response.success === true) {\n                console.log(\"Uploaded image to Pinata: \", response.pinataURL)\n                setFileURL(response.pinataURL);\n            }\n        }\n        catch(e) {\n            console.log(\"Error during file upload\", e);\n        }\n    }\n\n    //This function uploads the metadata to IPDS\n    async function uploadMetadataToIPFS() {\n        const {name, description, price} = formParams;\n        //Make sure that none of the fields are empty\n        if( !name || !description || !price || !fileURL)\n            return;\n\n        const nftJSON = {\n            name, description, price, image: fileURL\n        }\n\n        try {\n            //upload the metadata JSON to IPFS\n            const response = await uploadJSONToIPFS(nftJSON);\n            if(response.success === true){\n                console.log(\"Uploaded JSON to Pinata: \", response)\n                return response.pinataURL;\n            }\n        }\n        catch(e) {\n            console.log(\"error uploading JSON metadata:\", e)\n        }\n    }\n\n    async function listNFT(e) {\n        e.preventDefault();\n\n        //Upload data to IPFS\n        try {\n            const metadataURL = await uploadMetadataToIPFS();\n            //After adding your Hardhat network to your metamask, this code will get providers and signers\n            const provider = new ethers.providers.Web3Provider(window.ethereum);\n            const signer = provider.getSigner();\n            updateMessage(\"Please wait.. uploading (upto 5 mins)\")\n\n            //Pull the deployed contract instance\n            let contract = new ethers.Contract(Marketplace.address, Marketplace.abi, signer)\n\n            //massage the params to be sent to the create NFT request\n            const price = ethers.utils.parseUnits(formParams.price, 'ether')\n            let listingPrice = await contract.getListPrice()\n            listingPrice = listingPrice.toString()\n\n            //actually create the NFT\n            let transaction = await contract.createToken(metadataURL, price, { value: listingPrice })\n            await transaction.wait()\n\n            alert(\"Successfully listed your NFT!\");\n            updateMessage(\"\");\n            updateFormParams({ name: '', description: '', price: ''});\n            window.location.replace(\"/\")\n        }\n        catch(e) {\n            alert( \"Upload error\"+e )\n        }\n    }\n\n    console.log(\"Working\", process.env);\n    return (\n        <div className=\"\">\n        <Navbar></Navbar>\n        <div className=\"flex flex-col place-items-center mt-10\" id=\"nftForm\">\n            <form className=\"bg-white shadow-md rounded px-8 pt-4 pb-8 mb-4\">\n            <h3 className=\"text-center font-bold text-purple-500 mb-8\">Upload your NFT to the marketplace</h3>\n                <div className=\"mb-4\">\n                    <label className=\"block text-purple-500 text-sm font-bold mb-2\" htmlFor=\"name\">NFT Name</label>\n                    <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"name\" type=\"text\" placeholder=\"Axie#4563\" onChange={e => updateFormParams({...formParams, name: e.target.value})} value={formParams.name}></input>\n                </div>\n                <div className=\"mb-6\">\n                    <label className=\"block text-purple-500 text-sm font-bold mb-2\" htmlFor=\"description\">NFT Description</label>\n                    <textarea className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" cols=\"40\" rows=\"5\" id=\"description\" type=\"text\" placeholder=\"Axie Infinity Collection\" value={formParams.description} onChange={e => updateFormParams({...formParams, description: e.target.value})}></textarea>\n                </div>\n                <div className=\"mb-6\">\n                    <label className=\"block text-purple-500 text-sm font-bold mb-2\" htmlFor=\"price\">Price (in ETH)</label>\n                    <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" type=\"number\" placeholder=\"Min 0.01 ETH\" step=\"0.01\" value={formParams.price} onChange={e => updateFormParams({...formParams, price: e.target.value})}></input>\n                </div>\n                <div>\n                    <label className=\"block text-purple-500 text-sm font-bold mb-2\" htmlFor=\"image\">Upload Image</label>\n                    <input type={\"file\"} onChange={OnChangeFile}></input>\n                </div>\n                <br></br>\n                <div className=\"text-green text-center\">{message}</div>\n                <button onClick={listNFT} className=\"font-bold mt-10 w-full bg-purple-500 text-white rounded p-2 shadow-lg\">\n                    List NFT\n                </button>\n            </form>\n        </div>\n        </div>\n    )\n}","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/Marketplace.js",[],[],"/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/NFTpage.js",["62","63","64","65"],[],"/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/Profile.js",["66","67"],[],"import Navbar from \"./Navbar\";\nimport { useLocation, useParams } from 'react-router-dom';\nimport MarketplaceJSON from \"../Marketplace.json\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport NFTTile from \"./NFTTile\";\n\nexport default function Profile () {\n    const [data, updateData] = useState([]);\n    const [dataFetched, updateFetched] = useState(false);\n    const [address, updateAddress] = useState(\"0x\");\n    const [totalPrice, updateTotalPrice] = useState(\"0\");\n\n    async function getNFTData(tokenId) {\n        const ethers = require(\"ethers\");\n        let sumPrice = 0;\n        //After adding your Hardhat network to your metamask, this code will get providers and signers\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const signer = provider.getSigner();\n        const addr = await signer.getAddress();\n\n        //Pull the deployed contract instance\n        let contract = new ethers.Contract(MarketplaceJSON.address, MarketplaceJSON.abi, signer)\n\n        //create an NFT Token\n        let transaction = await contract.getMyNFTs()\n\n        /*\n        * Below function takes the metadata from tokenURI and the data returned by getMyNFTs() contract function\n        * and creates an object of information that is to be displayed\n        */\n        \n        const items = await Promise.all(transaction.map(async i => {\n            const tokenURI = await contract.tokenURI(i.tokenId);\n            let meta = await axios.get(tokenURI);\n            meta = meta.data;\n\n            let price = ethers.utils.formatUnits(i.price.toString(), 'ether');\n            let item = {\n                price,\n                tokenId: i.tokenId.toNumber(),\n                seller: i.seller,\n                owner: i.owner,\n                image: meta.image,\n                name: meta.name,\n                description: meta.description,\n            }\n            sumPrice += Number(price);\n            return item;\n        }))\n\n        updateData(items);\n        updateFetched(true);\n        updateAddress(addr);\n        updateTotalPrice(sumPrice.toPrecision(3));\n    }\n\n    const params = useParams();\n    const tokenId = params.tokenId;\n    if(!dataFetched)\n        getNFTData(tokenId);\n\n    return (\n        <div className=\"profileClass\" style={{\"min-height\":\"100vh\"}}>\n            <Navbar></Navbar>\n            <div className=\"profileClass\">\n            <div className=\"flex text-center flex-col mt-11 md:text-2xl text-white\">\n                <div className=\"mb-5\">\n                    <h2 className=\"font-bold\">Wallet Address</h2>  \n                    {address}\n                </div>\n            </div>\n            <div className=\"flex flex-row text-center justify-center mt-10 md:text-2xl text-white\">\n                    <div>\n                        <h2 className=\"font-bold\">No. of NFTs</h2>\n                        {data.length}\n                    </div>\n                    <div className=\"ml-20\">\n                        <h2 className=\"font-bold\">Total Value</h2>\n                        {totalPrice} ETH\n                    </div>\n            </div>\n            <div className=\"flex flex-col text-center items-center mt-11 text-white\">\n                <h2 className=\"font-bold\">Your NFTs</h2>\n                <div className=\"flex justify-center flex-wrap max-w-screen-xl\">\n                    {data.map((value, index) => {\n                    return <NFTTile data={value} key={index}></NFTTile>;\n                    })}\n                </div>\n                <div className=\"mt-10 text-xl\">\n                    {data.length == 0 ? \"Oops, No NFT data to display (Are you logged in?)\":\"\"}\n                </div>\n            </div>\n            </div>\n        </div>\n    )\n};","/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/Navbar.js",["68","69","70","71","72","73","74"],[],"/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/pinata.js",[],[],"/Users/idolzhao/workspace/contract/RTW3-Week7-NFT-Marketplace/src/components/NFTTile.js",["75","76"],[],"import axie from \"../tile.jpeg\";\nimport {\n    BrowserRouter as Router,\n    Link,\n  } from \"react-router-dom\";\n\nfunction NFTTile (data) {\n    const newTo = {\n        pathname:\"/nftPage/\"+data.data.tokenId\n    }\n    return (\n        <Link to={newTo}>\n        <div className=\"border-2 ml-12 mt-5 mb-12 flex flex-col items-center rounded-lg w-48 md:w-72 shadow-2xl\">\n            <img src={data.data.image} alt=\"\" className=\"w-72 h-80 rounded-lg object-cover\" />\n            <div className= \"text-white w-full p-2 bg-gradient-to-t from-[#454545] to-transparent rounded-lg pt-5 -mt-20\">\n                <strong className=\"text-xl\">{data.data.name}</strong>\n                <p className=\"display-inline\">\n                    {data.data.description}\n                </p>\n            </div>\n        </div>\n        </Link>\n    )\n}\n\nexport default NFTTile;\n",{"ruleId":"77","severity":1,"message":"78","line":4,"column":8,"nodeType":"79","messageId":"80","endLine":4,"endColumn":11},{"ruleId":"77","severity":1,"message":"81","line":2,"column":8,"nodeType":"79","messageId":"80","endLine":2,"endColumn":14},{"ruleId":"77","severity":1,"message":"82","line":7,"column":8,"nodeType":"79","messageId":"80","endLine":7,"endColumn":16},{"ruleId":"77","severity":1,"message":"83","line":9,"column":3,"nodeType":"79","messageId":"80","endLine":9,"endColumn":16},{"ruleId":"77","severity":1,"message":"84","line":12,"column":11,"nodeType":"79","messageId":"80","endLine":12,"endColumn":19},{"ruleId":"77","severity":1,"message":"85","line":2,"column":8,"nodeType":"79","messageId":"80","endLine":2,"endColumn":12},{"ruleId":"77","severity":1,"message":"86","line":3,"column":10,"nodeType":"79","messageId":"80","endLine":3,"endColumn":21},{"ruleId":"87","severity":1,"message":"88","line":96,"column":35,"nodeType":"89","messageId":"90","endLine":96,"endColumn":37},{"ruleId":"87","severity":1,"message":"88","line":96,"column":64,"nodeType":"89","messageId":"90","endLine":96,"endColumn":66},{"ruleId":"77","severity":1,"message":"86","line":2,"column":10,"nodeType":"79","messageId":"80","endLine":2,"endColumn":21},{"ruleId":"87","severity":1,"message":"88","line":91,"column":34,"nodeType":"89","messageId":"90","endLine":91,"endColumn":36},{"ruleId":"77","severity":1,"message":"91","line":1,"column":8,"nodeType":"79","messageId":"80","endLine":1,"endColumn":12},{"ruleId":"77","severity":1,"message":"92","line":4,"column":20,"nodeType":"79","messageId":"80","endLine":4,"endColumn":26},{"ruleId":"77","severity":1,"message":"93","line":5,"column":3,"nodeType":"79","messageId":"80","endLine":5,"endColumn":9},{"ruleId":"77","severity":1,"message":"94","line":6,"column":3,"nodeType":"79","messageId":"80","endLine":6,"endColumn":8},{"ruleId":"77","severity":1,"message":"95","line":8,"column":3,"nodeType":"79","messageId":"80","endLine":8,"endColumn":16},{"ruleId":"77","severity":1,"message":"96","line":9,"column":3,"nodeType":"79","messageId":"80","endLine":9,"endColumn":12},{"ruleId":"97","severity":1,"message":"98","line":57,"column":3,"nodeType":"79","endLine":57,"endColumn":12,"suggestions":"99"},{"ruleId":"77","severity":1,"message":"85","line":1,"column":8,"nodeType":"79","messageId":"80","endLine":1,"endColumn":12},{"ruleId":"77","severity":1,"message":"92","line":3,"column":22,"nodeType":"79","messageId":"80","endLine":3,"endColumn":28},"no-unused-vars","'App' is defined but never used.","Identifier","unusedVar","'Navbar' is defined but never used.","'ReactDOM' is defined but never used.","'BrowserRouter' is defined but never used.","'location' is assigned a value but never used.","'axie' is defined but never used.","'useLocation' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'logo' is defined but never used.","'Router' is defined but never used.","'Switch' is defined but never used.","'Route' is defined but never used.","'useRouteMatch' is defined but never used.","'useParams' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect contains a call to 'toggleConnect'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [location.pathname] as a second argument to the useEffect Hook.",["100"],{"desc":"101","fix":"102"},"Add dependencies array: [location.pathname]",{"range":"103","text":"104"},[1934,1934],", [location.pathname]"]